0 R=RND(0):CLS0:GOSUB 63990:GOSUB4:GOTO20
1 REM CLEARGRID()
2 FORI=ZTOH:FORJ=ZTOW:G(I,J)=Z:NEXT:NEXT:RETURN
3 REM FILLARRAY()
4 FORI=ZTOA:FORJ=OTOB:G(I,J)=-(INT(RND(TI)*X)<D):NEXT:NEXT:RETURN
5 REM SHOWARRAY()
6 FORI=ZTOH:FORJ=ZTOW:IFG(I,J)THENSET(J,I,5)
8 NEXT:NEXT
9 REM CHECK NEIGHBOUR()
10 FORJ=OTOB:N=Z
11 N=N+(G(Z,J)ANDG(Z,J-O))+(G(Z,J)ANDG(Z,J+O))+(G(Z,J)ANDG(O,J))+(G(Z,J)ANDG(O,J+O)):IFG(Z,J)AND(N<EORN>D)THENG(Z,J)=Z
12 IFG(Z,J)=ZANDN=DTHENG(Z,J)=O
13 NEXT:FORI=OTOA
14 FORJ=OTOB:N=Z
15 N=N+(G(I,J)ANDG(I-O,J))+(G(I,J)ANDG(I-O,J-O))+(G(I,J)ANDG(I-O,J+O))+(G(I,J)ANDG(I+O,J))+(G(I,J)ANDG(I+O,J+O))
16 N=N+(G(I,J)ANDG(I+O,J-O))+(G(I,J)ANDG(I,J-O))+(G(I,J)ANDG(I,J+O))
17 IFG(I,J)AND(N<EORN>D)THENG(I,J)=Z
18 IFG(I,J)=ZANDN=DTHENG(I,J)=O
19 NEXT:NEXT
20 G=G+O:CLS0:PRINT@480,"GENERATION:"G;:A$=INKEY$:ON-(A$="")GOTO6:GOSUB4:G=0:CLS0:GOTO20
63990 REM INITIALISE()
63999 DIMG(22,39),G,O,X,S,H,W,A,B,E,D,Z,A$:O=1:X=9:S=6:H=22:W=39:A=H-O:B=W-O:E=2:D=3:GOSUB1:RETURN

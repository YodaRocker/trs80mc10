0 GOTO2000
1 ZZ=1:CC=32:FORCC=CCTOZZSTEP-1:I$=MID$(M$,CC,1):IFI$<"!"THEN?MID$(M$,ZZ,CC-ZZ):ZZ=CC+1:CC=ZZ+32:IFI$=""THENCC=.
2 CC=CC+(CC>255)*(CC-255):NEXT:M$="":RETURN
7 PRINTM$;:CC=((PEEK(17024)AND1)*256+PEEK(17025))-1+MC:FORZZ=CC-LEN(M$)+1TOCC:POKEZZ,PEEK(ZZ)-64:NEXT:RETURN
9 PRINT@ZZ,CHR$(AB(48+Z,0))CHR$(AB(48+Z,1));:PRINT@ZZ+32,CHR$(AB(48+Z,2))CHR$(AB(48+Z,3));:RETURN
200 VCTRL=49151:CH=16:W=2:E=3:F=5
230 PRINT@419,;:M$="DO YOU NEED INSTRUCTIONS?":GOSUB7
235 I$=INKEY$:IFI$=""THEN235
236 IFI$="Y"THEN1500
237 IFI$="N"THEN240
238 GOTO235
240 CLS:POKEVCTRL,0:PRINT@130,"YOU HAVE ONLY A FEW SECONDS     TO LOOK AT THE FLOORPLAN."
300 MZ=35844:EXECMG
410 SV=RND(9):SH=1:CV=RND(9):CH=12:T=59.2
420 RH=SH:RV=SV:DR=RND(4):GOSUB1200
500 CLS0:GOSUB2003
520 RP=MZ+RH*12+RV
530 CP=MZ+CH*12+CV
540 POKE35835,RP/256
550 POKE35836,RP-PEEK(35835)*256
560 POKE35837,CP/256
570 POKE35838,CP-PEEK(35837)*256
580 POKE35839,DR
600 EXECMP
610 IFRP=CPTHEN1300
900 T=T-.2:M$=MID$(STR$(INT(T)),2):FORCC=1TOLEN(M$):ZZ=14+CC*2:Z=VAL(MID$(M$,CC,1)):GOSUB9:NEXT:IFT<1THEN1350
910 IFT<10THENPRINT@18,"€€";:PRINT@50,"€€";
930 I$=INKEY$:IFI$=""THEN900
950 IFI$="A"THEN1000
960 IFI$="S"ORI$="D"THEN1010
970 IFI$="W"THEN1020
980 IFI$<>"Q"THEN900
990 GOTO1370
995 CLS:PRINT@138,"BOMB SQUAD!":PRINT@227,"FROM 'RAT' BY BEN BRUNOTTE"
996 PRINT@265,"MC-10 VERSION":PRINT@297,"BY JIM GERRIE"
997 PRINT@329,"M.L. GRAPHICS":PRINT@362,"GREG DIONNE":RETURN
1000 DR=DR-1:IFDR<=.THENDR=4
1005 GOTO500
1010 DR=DR+1:IFDR>=5THENDR=1
1015 GOTO500
1020 Z=PEEK(MZ+12*RH+RV):ONZGOTO1030,1040,1050,1060,1070,1080,1090,1100,1110,1120,1130,1140,1150,1160,1170
1030 IFDR=1THEN1170
1031 GOTO930
1040 IFDR=2THEN1170
1041 GOTO930
1050 IFDR<=2THEN1170
1051 GOTO930
1060 IFDR=3THEN1170
1061 GOTO930
1070 ONDRGOTO1170,930,1170,930
1080 ONDRGOTO930,1170,1170,930
1090 IFDR=4THEN930
1091 GOTO1170
1100 IFDR=4THEN1170
1101 GOTO930
1110 ONDRGOTO1170,930,930,1170
1120 ONDRGOTO930,1170,930,1170
1130 IFDR=3THEN930
1131 GOTO1170
1140 IFDR>=3THEN1170
1141 GOTO930
1150 IFDR=2THEN930
1151 GOTO1170
1160 IFDR=1THEN930
1170 IFDR=1THENRH=RH-1
1172 IFDR=2THENRV=RV-1
1174 IFDR=3THENRH=RH+1
1176 IFDR=4THENRV=RV+1
1180 GOTO500
1200 GOSUB2004:FORZZ=1TO800:NEXT:CLS0:GOSUB2003
1205 CC=USR(45):CC=USR(15360)
1208 FORH=1TO12:FORV=1TO9:Z=PEEK(MZ+12*H+V)
1210 ONZGOTO1220,1220,1220,1230,1230,1230,1230,1240,1240,1240,1240,1250,1250,1250,1250
1220 CC=USR(F*((256*(H-1)+V)*65536+256*H+V)):CC=USR(F*((256*H+(V-1))*65536+256*H+V)):NEXT:NEXT:GOTO1255
1230 CC=USR(F*((256*(H-1)+V)*65536+256*H+V)):NEXT:NEXT:GOTO1255
1240 CC=USR(F*((256*H+(V-1))*65536+256*H+V))
1250 NEXT:NEXT:GOTO1255
1255 X0=INT(F*CH-2.5):Y0=INT(F*CV-2.5):X1=X0+1:Y1=Y0:CC=USR((X0*256+Y0)*65536+X1*256+Y1)
1260 CC=USR(F*((SH*256+SV-1)*65536+256*(SH-1)+SV)):CC=USR(F*((256*SH+SV)*65536+256*(SH-1)+SV-1))
1290 FORZZ=1TO2400:NEXT
1295 RETURN
1300 CLS0:GOSUB2004:CLS:FORZ=0TO12:PRINT@197,;:M$="YOU DISARMED THE BOMB!!":GOSUB7
1301 FORZZ=1TO150:NEXT:PRINT@197,"YOU DISARMED THE BOMB!!";:FORZZ=1TO150:NEXT:NEXT
1320 IFT>HSTHENHS=INT(T):PRINT@197+64,;:INPUT"ENTER INITIALS";TS$:TS$=LEFT$(TS$,3):POKEVCTRL,64
1340 GOTO1390
1350 E(1)=2:E(2)=4:E(3)=5:E(4)=8
1355 FORZ=0TO10:CLSE(RND(4)):PRINT@202,"DETONATION!!";:SOUND9,1:NEXT:CLS:PRINT@202,"DETONATION!!";
1360 PRINT@202,;:M$="YOU ARE DEAD":GOSUB7:GOTO1390
1370 CLS0:GOSUB2004:CLS:PRINT@198,;:M$="BUILDING DESTROYED!":GOSUB7:T=0
1390 PRINT@197+64,"BEST SCORE:"HS"BY "TS$:PRINT@197+128,"YOUR SCORE:"INT(T):PRINT@197+96,""
1400 PRINT@488,"PLAY AGAIN (Y/N)?";
1410 I$=INKEY$:IFI$=""THEN1410
1430 IFI$="Y"THEN240
1440 IFI$="N"THENEND
1450 GOTO1400
1500 CLS
1505 M$="YOU ARE A MEMBER OF A BOMB DISPOSAL SQUAD AND MUST FIND A BOMB HIDDEN SOMEWHERE IN THE CORRIDORS OF THIS BUILDING."
1510 GOSUB1:M$="YOU WILL BE SHOWN A MAP OF THE BUILDING FOR A FEW SECONDS.":GOSUB1
1511 M$="YOUR START LOCATIONS IS THE X AND THE BOMB IS THE SQUARE ITEM.":GOSUB1
1520 M$="IF YOU DON'T GET TO THE BOMB IN TIME, MANY INNOCENT CIVILIANS WILL DIE!":GOSUB1
1530 M$="YOU MAY RESIGN FROM THE BOMB SQUAD BY HITTING q. USE wasd TO MOVE. GOOD LUCK":GOSUB1
1570 PRINTTAB(5);:M$="PRESS ANY KEY TO BEING":GOSUB7
1580 I$=INKEY$:CC=RND(.):IFI$=""THEN1580
1590 GOTO240
2000 GOSUB995:CLEAR500:DIMCC,ZZ,MC,M$,I$,AB(90,3),X,Y,Z,BY:MC=16384:GOSUB2018
2001 DIMT,W,E,F,CH,X0,X1,Y0,Y1:GOTO200
2003 POKEVCTRL,68:RETURN
2004 POKEVCTRL,.:RETURN
2011 DATA128,128,128,128,149,128,132,128,152,128,128,128,128,128,134,128,128,128,132,128
2012 DATA154,138,164,160,149,128,148,128,179,170,172,136,177,170,140,168,171,170,128,168,187,162,140,168,187,162,172,168
2013 DATA176,170,128,168,187,170,172,168,187,170,128,168,177,168,132,128,155,138,168,168,187,136,172,160,186,160,172,136,186,13
2014 DATA172,160,187,160,172,136,187,160,168,128,186,160,172,160,171,170,168,168,149,128,148,128,128,170,172,168,171,168,168,16
2015 DATA170,128,172,136,174,170,168,168,186,138,168,168,154,138,164,160,187,170,168,128,154,138,164,168,187,136,168,168
2016 DATA187,162,140,168,181,160,148,128,170,170,172,168,170,170,148,128,170,170,184,168,169,168,168,168,171,170,148,128
2017 READAB(X,0),AB(X,1),AB(X,2),AB(X,3):RETURN:DATA177,168,172,136
2018 X=32:GOSUB2017:X=33:GOSUB2017:X=39:GOSUB2017:X=44:GOSUB2017:X=46:GOSUB2017
2019 FORX=48TO57:GOSUB2017:NEXTX:X=63:GOSUB2017:FORX=65TO90:GOSUB2017:NEXTX
2020 PRINT@420,"LOADING INSTALLER...":GOSUB2500
2021 PRINT@420,"LOADING GRAPHICS...":GOSUB3000
2022 MG=Z:PRINT@420,"LOADING MAZE GENERATOR...":GOSUB4000
2023 MP=Z:PRINT@420,"LOADING MAZE PLOTTER...":GOSUB5000
2024 RETURN
2500 REM INSTALLER UTILITY
2501 MI=32727:Z=MI
2502 I$="JPMKPOHPPMOGAAFEOOACDFPOHPPODCIAEBEIEIEIEIJHMMDCIAEBJKMMKHAAAIFKCGOMJOMKDJ"
2503 V=VARPTR(I$):V=PEEK(V+2)*256+PEEK(V+3)
2504 FORY=1TOLEN(I$)/2:POKEZ,PEEK(V)*16+PEEK(V+1)-1105:V=V+2:Z=Z+1:NEXTY:RETURN
2505 V=VARPTR(I$)
2506 POKE32764,V/256:POKE32765,V-PEEK(32764)*256
2507 POKE32766,Z/256:POKE32767,Z-PEEK(32766)*256
2508 Z=Z+PEEK(V)/2:EXECMI
2509 RETURN
3000 REM LINE DRAW SUBROUTINE BY GREG DIONNE
3001 REM CC=USR((X0*256+Y0)*65537) FOR SINGLE POINT
3002 REM CC=USR((X0*256+Y0)*65536+X1*256+Y1) TO DRAW LINE
3003 DATALNPDALMMABABNNLLNMMMJAMKCCAJCFADHPAALLHAAALLEANAMLCCAJCFADHPAALMHAAALMFANNNGBBCDHCEPJHMOJHNLJGNGJHNMINDCJG
3004 DATAMKJBMMCHCIJLLLJHMKJGMOJLNHJHMOBGJANLCKABEANANMCKABFABBCFOANGNMNHNLNLNGNHNMNGMLNLLMNHMLCANAFPHOOMOCNMMKNNNI
3005 DATAJGNJMGKLDNIGIAMAFFEEEEMLFFMBFFCEPIHEAANICEABEEIKIAJHNKIGCADNNLNIIJAAIKEAIEEBNNNINONINGNKOKAAOHAADJEPJHMOJH
3006 DATANLJGNHJHNMINMAJGMLJBMNCHLGJLLMJHMLJGMOJLNGJHMOBGJANLCKABEANANMCKABFABBCFOANGNMNHNLNLNHNHNMNGMKNLLLNHMKCANA
3007 Z=32768:POKE16917,126:POKE16918,Z/256:POKE16919,Z-PEEK(16918)*256:FORX=0TO3:READI$::GOSUB2505:NEXTX:RETURN
4000 REM MAZE CREATION (TRANSLATED TO MACHINE CODE)
4001 DATANMAJIKOAPNIMACMOIMAEGPAAAIIMIMLICFPIMOIMAEIGGEMGAOPHIMAAMGAMKHAAKHAKDKHKIMAACGPGMOIMAEMGALKHAAKHJM
4002 DATAAIFKCGPIMGALINFAIGAMDNDHDGMGAHINEHFMEPDAODAADBDBMDIMAENNMONOMOINAMCHAEINFJCAPELNIBNMCGOPDJEPGNAACH
4003 DATAACCKAEIGPPKHAAGNALCHACCKAEIGPPKHALGNBICHACCKAEIGPPKHBIGNANCHACCKAEIGPPKHANENDJDMDHDEDAOHAAFKOKAAOB
4004 DATAAACGPHPOIMACCGADMOOAAAAIPPIMACOEAADBDAOAAACEPMOLAADBDIDJMGAEINNGFNCHDPFKCHCJFKCHBDGNAACKAPMMAEABKH
4005 DATAAAOKAMOHAMNMMOMDPPPEDJGNALCKAPMMAIACKHALOKAMOHAMNMMOMDPPPPDJGNBICKAPMMABAEKHBIOKAMOHAMNMMOMDAAAMDJ
4006 DATAGNANCKMDMMACAIKHANOKAMOHAMNMMOMDAAABDJMOIMAFMGAMPHIMAAMGAJPHIMABGNAMCLBCAIHKIMABCGPGAIAIAIHKIMAACG
4007 DATAOJMMAAAADJMGPEKGAAINBEMGPPKGALINAOMGAMKGBIINAIMGABKGANINACCANECHAOIBGECEAKEPFNCKABEKNPMONDMODIDJ
4008 FORX=1TO7:READI$:GOSUB2505:NEXTX:RETURN
5000 REM MAZE DRAWING (TRANSLATED TO MACHINE CODE)
5001 DATAHPILPKHPILPJPOILPLOGAAFKFIFIPLILPPFKFIMOICPMDKOOAAKNAAHNILPJCGDBLGILPKIBADCHCKPGILPPFKFIMOICPEDKOMAAPDILPLPN
5002 DATAILPLLDILPNCGAPPGILPKFIFIMOIDHEDKOMACOOAAONAAHMILPKCALFDJINDGINDKINDOHMILPJDJINCPINDAINDEHMILPJDJINCCCACGINBO
5003 DATAINCFINCGHMILPJDJINBHCABIINBACABHINAPINBDINBEHMILPJDJINAFCAAJMGAAIMMGABIMMGACIMMGADIMMGAELGILPKEIEILLILPKBLMG
5004 DATABADNMDIDIADHDGDIMGDJPHIAGCOMAACHBBNNMKOMACNNMMDMLNIAADDIAIAIAIAICAOLMGEBPHIAGCDJPPPEPPPPAAAMAAABICJAICIGICHM
5005 DATAICJEICJEICJAICIGICHMICKCICJOICIGICJEICHMICJEICJAICIGICJAICKGICJAICKGICJEICKCICJOICIGICKCICLAICJOICKGICIGICHM
5006 DATAICJEICJAICJOICIGICJEICKCICKGICJAICKGICJAICLAICJOICKGICKCICIGICJEICKCICJOICJOICKGICKCICLAICKGICKCICLAICJOICLA
5007 DATAICLAICLAICLAEBKPPPPPEBGPPMOIEBEPNAOAAGAEAGCKAGAEAAAAAGCLAACPAAAAAAAAAAAEAGAEAGAEAGCLAACLAGCLAAAAAAAADJAEDJCL
5008 DATADPAADJAEDJCLDPCPAAAAAAAADJAEDJCLDJAEDPAEDJCLDPCLAAAAAAAAAGAEDJAEAGCLDJCLAAAAAAAAAAAAAAAABEAMBECDAGAEBEAMBECD
5009 DATAAGCLAAAAAAAAAGAMBEAMBEAMBECDAGCDBECDAAAAAAAACLAMCLCDDJAECLAMCLCDDJCLAAAAAAAACLAMDJAMCLAMCLCDCLCDDJCDAAAAAAAA
5010 DATABEAMCLAMBECDCLCDAAAAAAAAAAAAAAAABNBCBNBNBEAMBNBCBNBNBECDAAAAAAAABEBCBNBCBNBCBNBNBEBNBNBNAAAAAAAACCBCCCBNCLAM
5011 DATACCBCCCBNCLCDAAAAAAAACCBCCLBCCCBCCCBNCCBNCLBNAAAAAAAABMBCCDBCBMBNCDBNAAAAAAAAAAAAAAAABOBDBPBEBPBEBPBLBPBLBOBM
5012 DATAAAAAAAAABOBEBPBEBPBEBPBLBPBLBOBLAAAAAAAACBBDCABECABECABLCABLCBBMAAAAAAAACBBECABECABECABLCABLCBBL
5013 FORX=1TO12:READI$:GOSUB2505:NEXTX:RETURN

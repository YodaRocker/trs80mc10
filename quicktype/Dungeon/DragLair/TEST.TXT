0 CLS0:CLEAR260,36762:DIMC2,C3,C4,MC,CC,ZZ,VP,M$,I$,K$,W$:MC=16384:M$="O"+"K":W$=CHR$(127):GOSUB15:GOTO100
1 ZZ=1:CC=32:FORCC=CCTOZZSTEP-1:I$=MID$(M$,CC,1):IFI$=" "ORI$=""THENGOSUB3:ZZ=CC+1:CC=ZZ+32:IFI$=""THENCC=.
2 CC=CC+(CC>255)*(CC-255):NEXT:M$="":RETURN
3 K$=MID$(M$,ZZ,CC-ZZ):VP=VARPTR(K$):C4=(PEEK(17024)AND1)*256+PEEK(17025)-1+MC:IFC4-MC+33=512THENGOSUB6:C4=C4-32
4 PRINT@C4-MC+33,;:FORC2=1TOLEN(K$):C3=ASC(MID$(K$,C2,1)):POKEC4+C2,C3+64*(C3>63):NEXT:RETURN
5 FORCC=1TO16:GOSUB6:NEXT:PRINT@.,;:RETURN
6 PRINT@511,W$;:POKEMC+479,32:RETURN
7 I$="":ZZ=(PEEK(17024)AND1)*256+PEEK(17025)+MC:POKEZZ,96:CC=ZZ-MC
8 M$=INKEY$:IFM$=""THEN8
9 IFM$=CHR$(13)THENON-(I$<>"")GOTO13:I$=" ":GOTO13
10 IFM$=CHR$(8)THENIFI$<>""THENI$=LEFT$(I$,LEN(I$)-1):POKEZZ,32:ZZ=ZZ-1:POKEZZ,96
11 IFM$<" "ORM$>"Z"ORLEN(I$)>30THEN8
12 C2=ASC(M$):POKEZZ,C2+64*(C2>63):ZZ=ZZ+1:POKEZZ,96:I$=I$+M$:GOTO8
13 POKEZZ,32:IFCC+32=512THENGOSUB6:CC=CC-32
14 PRINT@CC+32,;:RETURN
15 FORCC=0TO103:POKE36762+CC,PEEK(64022+CC):NEXT:DATA49,49,60,55,54
16 FORCC=0TO4:READC2:POKE36762+CC,C2:NEXT:POKE36855,32:POKE17033,143:POKE17034,154:POKE17032,126:RETURN
100 FORX=1TO100:M$="THIS IS A TEST OF THE EMERGENCY BORADCASTING SYSTEM. THIS IS ONLY A TEST!":GOSUB1:NEXT
110 SOUND 1,1:END
